{% comment %}
------------------------------------------------------------------------------
  Section: Featured collection
  - This section requires a collection object.
------------------------------------------------------------------------------
{% endcomment %}
{% assign featured_collection = collections[section.settings.featured_collection] %}

<section
  class="featured-collection"
  data-section-id="{{ section.id }}"
  data-section-type="featured-collection"
  js-fade-in="container"
>
  {% if section.settings.heading != blank %}
    <div
      class="
        container--right
        featured-collection__title
        animate
        animate--opacity
      "
      js-fade-in="item"
    >
      <div class="row no-gutter">
        <div class="col xs12">
          <h3 class="h2 featured-collection__title">{{ section.settings.heading }}</h2>
          {% if section.settings.show_view_all %}
            <div
              class="
                featured-collection__cta
                animate
                animate--opacity
              "
              js-fade-in="item"
            >
              <a class="button button--secondary button--dark" href="{{ featured_collection.url }}">
                {{ section.settings.call_to_action_text }}
              </a>
            </div>
          {% endif %}
        </div>
      </div>
    </div>
  {% endif %}

  

  {% render 'feature-carousel' with
    type: 'collection'
    featured_collection: featured_collection
    class: 'full-width'
  %}
</section>

{% schema %}
  {
    "name": "Featured Collection",
    "class": "index-section",
    "settings": [
      {
        "type": "header",
        "content": "Content"
      },
      {
        "type": "text",
        "id": "heading",
        "label": "Heading",
        "default": "Featured collection"
      },
      {
        "type": "collection",
        "id": "featured_collection",
        "label": "Collection"
      },
      {
        "type": "checkbox",
        "id": "show_view_all",
        "label": "Show 'View all' button",
        "default": false
      },
      {
        "type": "text",
        "id": "call_to_action_text",
        "label": "'View all' text",
        "default": "View all"
      }
    ],
    "presets": [
      {
        "name": "Featured collection",
        "category": "Collection"
      }
    ]
  }
{% endschema %}
